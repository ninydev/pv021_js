<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div id="app">
</div>


<script>

    function buildSelect(data){
        console.log(data);
        let select = document.createElement("select");
        for (let i = 0 ; i < data.length; i++) {
            let o = document.createElement("option");
            o.value = data[i]["Ref"];
            o.innerText = data[i]["DescriptionRu"];
            select.appendChild(o);
        }
        return select;
    }

    // Настройки доступа к API
    let apiUrl = "https://api.novaposhta.ua/v2.0/json/";
    let apiKey = "3c81d19dc6c4375bc278f4c329fb03cb";

    // Метод отправки запроса
    function sendRequest(Request, doNext) {
        Request.apiKey = apiKey;
        // console.log(Request);

        fetch(apiUrl, {
                method: 'POST', // *GET, POST, PUT, DELETE, etc.
                mode: 'cors', // no-cors, *cors, same-origin
                cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached
                credentials: 'same-origin', // include, *same-origin, omit
                headers: {
                    'Content-Type': 'application/json'
                    // 'Content-Type': 'application/x-www-form-urlencoded',
                },
                redirect: 'follow', // manual, *follow, error
                referrerPolicy: 'no-referrer', // no-referrer, *client
                body: JSON.stringify(Request) // body data type must match "Content-Type" header
            })
        .then(res=>{ // Операции по проверки ответа от сервера (например код 200)
            console.log(res);
            if(res.status !== 200) {
                console.log("Error http"); console.log(res.statusText); return;
            }
            return res.json();
        })
        .then(data=>{ // Операции уже с телом (body) ответа - передаю в callback Fun
            if (data.success) doNext(data.data);
            else { console.log("Error data"); console.log(data.errors); }
        })
        .catch(err=> {console.log("Error catch"); console.log(err);})
    }


    function buildAreas(data){
        document.getElementById("app").appendChild(buildSelect(data));
    }

    // Пример - запрос на области
    sendRequest({
        "modelName": "Address",
        "calledMethod": "getAreas",
        "methodProperties": {}
    }, buildAreas);

</script>

</body>
</html>